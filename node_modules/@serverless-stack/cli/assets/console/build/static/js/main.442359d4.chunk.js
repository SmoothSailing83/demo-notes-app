(this["webpackJsonpsst-console"]=this["webpackJsonpsst-console"]||[]).push([[0],{112:function(e,n,t){},126:function(e,n,t){},127:function(e,n,t){},128:function(e,n,t){},129:function(e,n,t){},130:function(e,n,t){},131:function(e,n,t){},132:function(e,n,t){},133:function(e,n,t){},134:function(e,n,t){},135:function(e,n,t){},136:function(e,n,t){},137:function(e,n,t){},138:function(e,n,t){},139:function(e,n,t){},140:function(e,n,t){},141:function(e,n,t){},142:function(e,n,t){},143:function(e,n,t){},145:function(e,n,t){},146:function(e,n,t){},147:function(e,n,t){"use strict";t.r(n);var a=t(168),r=t(165),c=t(167),s=t(170),i=t(166),o=t(89),l=t(40),u=t(57),d=t(1),j=t.n(d),b=t(30),p=t.n(b),O=t(19),m=t.n(O),h=t(37),v=t(39),g=t(10),f=t(5),x=t(27),y=t(169),N=t(173),S=t(171),C=t(164),k=t(52),D=t(78),E=t(151),w=t(152),L=t(84),U={docsUrl:"https://docs.serverless-stack.com/",slackUrl:"https://serverless-stack.slack.com"},R=(t(112),t.p+"static/media/logo.352c4018.svg"),T=t(0);function A(e){var n=e.statusPanel;return Object(T.jsx)(k.a,{className:"BrandNavbar",variant:"dark",children:Object(T.jsxs)(L.a,{fluid:!0,children:[Object(T.jsx)(k.a.Brand,{href:"/",children:Object(T.jsx)("img",{alt:"",src:R,width:"100",className:"d-inline-block align-top"})}),Object(T.jsx)(k.a.Toggle,{}),Object(T.jsx)(k.a.Collapse,{children:n}),Object(T.jsxs)(k.a.Collapse,{className:"justify-content-end links",children:[Object(T.jsx)(D.a.Link,{title:"Slack",target:"_blank",rel:"noreferrer",className:"slack",href:U.slackUrl,children:Object(T.jsx)(E.a,{size:15})}),Object(T.jsx)(D.a.Link,{title:"Docs",target:"_blank",rel:"noreferrer",href:U.docsUrl,children:Object(T.jsx)(w.a,{})})]})]})})}var P=t(49),B=t.n(P),I=t(87),Q=t(48),z=t(154),F=t(155),V=t(4),_=t(86),q=t(153),M=(t(126),["loading"]),W={link:"link",danger:"outline-danger",primary:"outline-warning",secondary:"outline-light"};function G(e){var n=e.loading,t=void 0!==n&&n,a=Object(f.a)(e,M);return a=Object(V.a)(Object(V.a)({},a),{},{size:a.size||"lg",disabled:a.disabled||t,className:"Button ".concat(a.className||""),variant:W[a.variant]||W.secondary}),Object(T.jsxs)(_.a,Object(V.a)(Object(V.a)({},a),{},{children:[t&&Object(T.jsx)(q.a,{className:"spinner"}),a.children]}))}function J(e){var n=e.message,t=Object(d.useRef)(!1);return t.current||(window.alert(n),t.current=!0),null}t(127);function H(e){var n=e.loading,t=e.loadError,a=e.infraBuildStatus,r=e.infraBuildErrors,c=void 0===r?[]:r,s=e.infraDeployStatus,i=e.infraDeployErrors,o=void 0===i?[]:i,l=e.infraCanDeploy,u=e.infraCanQueueDeploy,j=e.infraDeployQueued,b=e.lambdaBuildStatus,p=e.lambdaBuildErrors,O=void 0===p?[]:p,f=e.handleDeploy,x=0,y=0,N=Object(d.useState)(!1),S=Object(g.a)(N,2),C=S[0],k=S[1],D=Object(d.useState)(null),E=Object(g.a)(D,2),w=E[0],L=E[1],U=Object(d.useState)(!1),R=Object(g.a)(U,2),A=R[0],P=R[1],V=function(){var e,n;l?"failed"===s?(e=!0,n="Retry"):(e=!0,n="Deploy"):u?(e=!0,n="Queue"):j?(e=!1,n="Queued"):(e=!1,n="Deploy");return[e,n]}(),_=Object(g.a)(V,2),q=_[0],M=_[1],W=C?"":"collapsed",H=q?"enabled":"";function K(){return $.apply(this,arguments)}function $(){return($=Object(h.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.prev=1,e.next=4,f();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),L(e.t0);case 9:P(!1);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}return Object(d.useEffect)((function(){"building"!==a&&"building"!==b||k(!1)}),[a,b]),n||t||[].concat(Object(v.a)(c),Object(v.a)(o),Object(v.a)(O)).forEach((function(e){x+=e.errorCount||0,y+=e.warningCount||0})),Object(T.jsxs)("div",{className:"StatusPanel ".concat(W," ").concat(H),children:[w&&Object(T.jsx)(J,{message:w.message}),!n&&!t&&Object(T.jsx)(Q.a,{in:C,children:Object(T.jsx)("div",{className:"error-logs",children:Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{className:"header",children:"Errors"}),Object(T.jsxs)("div",{className:"scroll-content",children:[function(){if(void 0!==a)return(c.length>0||o.length>0)&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("h3",{children:Object(T.jsx)("span",{children:"Infrastructure"})}),c.length>0&&Object(T.jsx)("div",{className:"content",children:c.map((function(e,n){var t=e.type,a=e.message;return Object(T.jsxs)("div",{className:"error-type",children:[Object(T.jsxs)("h5",{children:[t," Errors"]}),Object(T.jsx)("pre",{children:Object(T.jsx)(B.a,{children:a})})]},n)}))}),o.length>0&&Object(T.jsx)("div",{className:"content",children:o.map((function(e,n){var t=e.type,a=e.message;return Object(T.jsxs)("div",{className:"error-type",children:[Object(T.jsxs)("h5",{children:[t," Errors"]}),Object(T.jsx)("pre",{children:Object(T.jsx)(B.a,{children:a})})]},n)}))})]})}(),function(){if(void 0!==b)return O.length>0&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("h3",{children:Object(T.jsx)("span",{children:"Functions"})}),Object(T.jsx)("div",{className:"content",children:O.map((function(e,n){var t=e.type,a=e.message;return Object(T.jsxs)("div",{className:"error-type",children:[Object(T.jsxs)("h5",{children:[t," Errors"]}),Object(T.jsx)("pre",{children:Object(T.jsx)(B.a,{children:a})})]},n)}))})]})}()]})]})})}),Object(T.jsxs)("div",{className:"footer",children:[Object(T.jsxs)("div",{className:"status",children:[n&&Object(T.jsx)("span",{children:"\xa0"}),t&&Object(T.jsx)("p",{className:"error",children:"Failed to load"}),!n&&!t&&Object(T.jsxs)(T.Fragment,{children:[(x>0||y>0)&&Object(T.jsxs)("div",{className:"counts",onClick:function(){return k(!C)},children:[x>0&&Object(T.jsxs)("span",{className:"errors",children:[Object(T.jsx)(z.a,{size:14}),Object(T.jsx)("span",{children:x})]}),y>0&&Object(T.jsxs)("span",{className:"warnings",children:[Object(T.jsx)(F.a,{size:14}),Object(T.jsx)("span",{children:y})]})]}),0===x&&0===y&&Object(T.jsx)("div",{className:"watcher-message",children:"Watching changes\u2026"})]})]}),Object(T.jsxs)("div",{className:"controls",children:[function(){var e="building"===a||"building"===b,n="deploying"===s;return(e||n)&&Object(T.jsxs)("span",{className:"spinner",children:[Object(T.jsx)(I.a,{size:"sm",animation:"border",variant:"secondary",role:"status",children:Object(T.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),e&&Object(T.jsx)("span",{className:"building",children:"Building"}),n&&Object(T.jsx)("span",{className:"deploying",children:"Deploying"})]})}(),Object(T.jsx)(G,{size:"sm",onClick:K,loading:A,disabled:!q,variant:q?"secondary":"primary",children:M})]})]})]})}t(128);function K(e){var n=e.connected,t=void 0!==n&&n,a=t?"connected":"disconnected";return Object(T.jsxs)("div",{className:"WsStatusPanel ".concat(a),title:t?"Connected to local dev environment":"Not connected to local dev environment",children:[Object(T.jsx)("div",{className:"indicator"}),Object(T.jsx)("span",{children:t?"Connected":"Disconnected"})]})}var $=t(158),X=t(156),Y=(t(129),["name","values"]);function Z(e){var n=e.name,t=e.values,a=(Object(f.a)(e,Y),Object(d.useRef)({})),r=Object(d.useState)(!1),c=Object(g.a)(r,2),s=c[0],i=c[1];function o(){i(!1)}return Object(T.jsxs)("div",{className:"KeyValueItem",children:[Object(T.jsx)("p",{className:"name",children:n}),t.map((function(e,n){return Object(T.jsxs)("div",{className:"value",children:[Object(T.jsxs)("div",{children:[e.url&&Object(T.jsx)("a",{target:"_blank",rel:"noreferrer",href:e.url,children:e.text||(t=e.url,t.replace(/^https?:\/\//,""))}),!e.url&&Object(T.jsx)("input",{readOnly:!0,value:e,onBlur:o,ref:function(e){return a.current[n]=e}})]}),Object(T.jsx)("div",{children:!e.url&&Object(T.jsxs)(T.Fragment,{children:[s===n&&Object(T.jsx)("span",{className:"status",children:"Copied!"}),Object(T.jsx)(G,{size:"md",variant:"link",onClick:function(){return function(e,n){a.current[n].select(),document.execCommand("copy"),a.current[n].focus(),i(n)}(0,n)},className:s===n?"copied":"",disabled:!document.queryCommandSupported("copy"),children:Object(T.jsx)(X.a,{size:14})})]})})]},n);var t}))]})}var ee=t(157),ne=(t(130),["type","name","expanded"]);function te(e){var n=e.type,t=e.name,a=e.expanded,r=void 0!==a&&a,c=Object(f.a)(e,ne),s=Object(d.useState)(r),i=Object(g.a)(s,2),o=i[0],l=i[1],u=o?"expanded":"collapsed";return Object(T.jsxs)("div",{className:"CollapsiblePanel ".concat(u),children:[Object(T.jsxs)("div",{className:"header",onClick:function(){return l(!o)},children:[Object(T.jsxs)("div",{className:"copy",children:[Object(T.jsx)("span",{children:n}),Object(T.jsx)("h1",{children:t})]}),Object(T.jsx)("span",{className:"icon",children:Object(T.jsx)(ee.a,{})})]}),Object(T.jsx)(Q.a,{in:o,children:Object(T.jsx)("div",{className:"body",children:Object(T.jsx)("div",{children:c.children})})})]})}t(131);function ae(e){var n=e.type,t=e.name,a=e.props,r=a.httpApiEndpoint,c=a.restApiEndpoint,s=a.customDomainUrl,i=a.routes,o=r||c;return Object(T.jsx)("div",{className:"ApiConstructPanel",children:Object(T.jsxs)(te,{type:n,name:t,children:[Object(T.jsx)(Z,{name:"URL",values:[{url:o}]}),s&&Object(T.jsx)(Z,{name:"Custom Domain URL",values:[{url:s}]}),Object.values(i).length>0&&Object(T.jsx)(Z,{name:"Routes",values:Object.values(i).map((function(e,n){return function(e,n,t){var a,r,c=n.method,s=n.path;return"$default"===s?(a=s,r="".concat(e,"/").concat(s)):(a="".concat(c," ").concat(s),r="".concat(e).concat(s)),{url:r,text:a}}(s||o,e)}))})]})})}t(132);function re(e){var n=e.type,t=e.name,a=e.props,r=e.triggering,c=e.onTrigger;return Object(T.jsx)("div",{className:"CronConstructPanel",children:Object(T.jsxs)(te,{type:n,name:t,children:[Object(T.jsx)(Z,{name:"Schedule",values:[a.schedule]}),Object(T.jsxs)("div",{className:"controls",children:[Object(T.jsx)("p",{children:"Trigger function"}),Object(T.jsx)(G,{size:"sm",loading:r,onClick:function(){return c({type:n,ruleName:a.ruleName,functionName:a.functionName})},children:"Trigger"})]})]})})}t(133);function ce(e){var n=e.type,t=e.name,a=e.keyValues;return Object(T.jsx)("div",{className:"BasicConstructPanel",children:Object(T.jsx)(te,{type:n,name:t,children:Object.entries(a).filter((function(e){var n=Object(g.a)(e,2);n[0];return void 0!==n[1]})).map((function(e){var n=Object(g.a)(e,2),t=n[0],a=n[1];return Object(T.jsx)(Z,{name:t,values:[a]},t)}))})})}var se=t(32),ie=(t(134),["label","button"]);function oe(e){var n=e.label,t=e.button,a=Object(f.a)(e,ie);return Object(T.jsxs)(se.a,{className:"PayloadForm",children:[Object(T.jsxs)(se.a.Group,{controlId:"field-".concat(n),children:[Object(T.jsx)(se.a.Label,{children:n}),a.children]}),t]})}t(135);var le=JSON.stringify({data:"placeholder"},null,2);function ue(e){var n=e.type,t=e.name,a=e.props,r=e.triggering,c=e.onTrigger,s=Object(d.useState)(le),i=Object(g.a)(s,2),o=i[0],l=i[1];return Object(T.jsx)("div",{className:"QueueConstructPanel",children:Object(T.jsxs)(te,{type:n,name:t,children:[Object(T.jsx)(Z,{name:"Queue URL",values:[a.queueUrl]}),Object(T.jsx)(oe,{label:"Message",button:Object(T.jsx)(G,{size:"sm",loading:r,onClick:function(){return c({type:n,queueUrl:a.queueUrl,payload:o})},children:"Send Message"}),children:Object(T.jsx)(se.a.Control,{rows:3,size:"sm",as:"textarea",onChange:function(e){return l(e.target.value)},value:o})})]})})}t(136);var de=JSON.stringify({data:"placeholder"},null,2);function je(e){var n=e.type,t=e.name,a=e.props,r=e.triggering,c=e.onTrigger,s=Object(d.useState)(de),i=Object(g.a)(s,2),o=i[0],l=i[1];return Object(T.jsx)("div",{className:"TopicConstructPanel",children:Object(T.jsxs)(te,{type:n,name:t,children:[Object(T.jsx)(Z,{name:"Topic ARN",values:[a.topicArn]}),Object(T.jsx)(oe,{label:"Message",button:Object(T.jsx)(G,{size:"sm",loading:r,onClick:function(){return c({type:n,topicArn:a.topicArn,payload:o})},children:"Publish Message"}),children:Object(T.jsx)(se.a.Control,{rows:3,size:"sm",as:"textarea",value:o,onChange:function(e){return l(e.target.value)}})})]})})}t(137);function be(e){var n=e.type,t=e.name,a=e.props,r=a.httpApiEndpoint,c=a.customDomainUrl,s=a.routes;return Object(T.jsx)("div",{className:"WebSocketApiConstructPanel",children:Object(T.jsxs)(te,{type:n,name:t,children:[Object(T.jsx)(Z,{name:"URL",values:[{url:r}]}),c&&Object(T.jsx)(Z,{name:"Custom Domain URL",values:[{url:c}]}),Object.values(s).length>0&&Object(T.jsx)(Z,{name:"Routes",values:Object.values(s).map((function(e,n){return t=e,{url:"".concat(c||r,"/").concat(t),text:t};var t}))})]})})}t(138);var pe=JSON.stringify({data:"placeholder"},null,2);function Oe(e){var n=e.type,t=e.name,a=e.props,r=e.triggering,c=e.onTrigger,s=Object(d.useState)(pe),i=Object(g.a)(s,2),o=i[0],l=i[1];return Object(T.jsx)("div",{className:"KinesisStreamConstructPanel",children:Object(T.jsxs)(te,{type:n,name:t,children:[Object(T.jsx)(Z,{name:"Stream Name",values:[a.streamName]}),Object(T.jsx)(oe,{label:"Record",button:Object(T.jsx)(G,{size:"sm",loading:r,onClick:function(){return c({type:n,streamName:a.streamName,payload:o})},children:"Put Record"}),children:Object(T.jsx)(se.a.Control,{rows:3,size:"sm",as:"textarea",value:o,onChange:function(e){return l(e.target.value)}})})]})})}function me(e){console.log(e),window.alert(e.message)}t(139);var he=["construct","handleTrigger"];function ve(e){var n=e.construct,t=e.handleTrigger,a=(Object(f.a)(e,he),Object(d.useState)(!1)),r=Object(g.a)(a,2),c=r[0],s=r[1];function i(e){return o.apply(this,arguments)}function o(){return(o=Object(h.a)(m.a.mark((function e(n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,t(n);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),me(e.t0);case 9:s(!1);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}return Object(T.jsx)("div",{className:"ConstructPanel",children:function(){switch(n.type){case"Auth":return function(e){var n=e.name,t=e.props;return Object(T.jsx)(ce,{type:"Auth",name:n,keyValues:{"Identity Pool ID":t.identityPoolId}})}(n);case"Api":return function(e){var n=e.name,t=e.props;return Object(T.jsx)(ae,{type:"Api",name:n,props:t})}(n);case"ApiGatewayV1Api":return function(e){var n=e.name,t=e.props;return Object(T.jsx)(ae,{type:"ApiGatewayV1Api",name:n,props:t})}(n);case"ApolloApi":return function(e){var n=e.name,t=e.props;return Object(T.jsx)(ce,{type:"ApolloApi",name:n,keyValues:{URL:{url:t.httpApiEndpoint},"Custom Domain URL":t.customDomainUrl?{url:t.customDomainUrl}:void 0}})}(n);case"AppSyncApi":return function(e){var n=e.name,t=e.props;return Object(T.jsx)(ce,{type:"AppSyncApi",name:n,keyValues:{"GraphQL URL":{url:t.graphqlApiEndpoint},"WebSocket URL":{url:t.realtimeApiEndpoint}}})}(n);case"WebSocketApi":return function(e){var n=e.name,t=e.props;return Object(T.jsx)(be,{type:"WebSocketApi",name:n,props:t})}(n);case"Queue":return function(e){var n=e.name,t=e.type,a=e.props;return Object(T.jsx)(ue,{type:t,name:n,props:a,triggering:c,onTrigger:i})}(n);case"Topic":return function(e){var n=e.name,t=e.type,a=e.props;return Object(T.jsx)(je,{type:t,name:n,props:a,triggering:c,onTrigger:i})}(n);case"Cron":return function(e){var n=e.name,t=e.type,a=e.props;return Object(T.jsx)(re,{type:t,name:n,props:a,triggering:c,onTrigger:i})}(n);case"Bucket":return function(e){var n=e.name,t=e.props;return Object(T.jsx)(ce,{type:"Bucket",name:n,keyValues:{"Bucket Name":t.bucketName}})}(n);case"Table":return function(e){var n=e.name,t=e.props;return Object(T.jsx)(ce,{type:"Table",name:n,keyValues:{"Table Name":t.tableName}})}(n);case"EventBus":return function(e){var n=e.name,t=e.props;return Object(T.jsx)(ce,{type:"EventBus",name:n,keyValues:{"EventBus Name":t.eventBusName}})}(n);case"KinesisStream":return function(e){var n=e.name,t=e.type,a=e.props;return Object(T.jsx)(Oe,{type:t,name:n,props:a,triggering:c,onTrigger:i})}(n);case"StaticSite":return function(e){var n=e.name,t=e.props;return Object(T.jsx)(ce,{type:"StaticSite",name:n,keyValues:{URL:{url:t.endpoint},"Custom Domain URL":t.customDomainUrl?{url:t.customDomainUrl}:void 0}})}(n);case"ReactStaticSite":return function(e){var n=e.name,t=e.props;return Object(T.jsx)(ce,{type:"ReactStaticSite",name:n,keyValues:{URL:{url:t.endpoint},"Custom Domain URL":t.customDomainUrl?{url:t.customDomainUrl}:void 0}})}(n);case"NextjsSite":return function(e){var n=e.name,t=e.props;return Object(T.jsx)(ce,{type:"NextjsSite",name:n,keyValues:{URL:{url:t.endpoint},"Custom Domain URL":t.customDomainUrl?{url:t.customDomainUrl}:void 0}})}(n);case"Script":return function(e){var n=e.name,t=e.props;return Object(T.jsx)(ce,{type:"Script",name:n,keyValues:{"Function Name":t.functionName}})}(n);default:return}}()})}t(140);function ge(e){return Object(T.jsx)("div",{className:"LoadingSpinner",children:Object(T.jsxs)("div",{className:"spinner",children:[Object(T.jsx)("div",{className:"bounce1"}),Object(T.jsx)("div",{className:"bounce2"}),Object(T.jsx)("div",{className:"bounce3"})]})})}t(141);function fe(e){var n=e.loading,t=e.loadError,a=e.constructs,r=e.handleTrigger,c=n||t?"loading":"";return Object(T.jsxs)("div",{className:"ConstructsPanel ".concat(c),children:[n&&Object(T.jsx)(ge,{}),t&&Object(T.jsxs)("div",{className:"error",children:[Object(T.jsx)($.a,{}),Object(T.jsx)("p",{children:"Failed to load"})]}),!n&&!t&&a&&a.map((function(e,n){return Object(T.jsx)(ve,{construct:e,handleTrigger:r},n)}))]})}t(142);function xe(e){var n=e.loading,t=e.loadError,a=e.logs,r=e.onClear,c=Object(d.useRef)(null),s=Object(d.useRef)(null),i=Object(d.useRef)(null),o=a&&a.length>0,l=a?a.length:void 0;return Object(d.useLayoutEffect)((function(){if(void 0!==l){var e=c.current;(null===s.current||s.current-e.scrollTop-i.current<1)&&(e.scrollTop=e.scrollHeight),s.current=e.scrollHeight,i.current=e.clientHeight}}),[l]),Object(T.jsxs)("div",{className:"RuntimeLogsPanel",children:[Object(T.jsxs)("div",{className:"header",children:[Object(T.jsx)("span",{children:"Logs"}),Object(T.jsx)(G,{variant:"link",size:"sm",disabled:!o,onClick:r,children:"Clear"})]}),Object(T.jsxs)("div",{ref:c,className:"content",children:[n&&Object(T.jsx)(ge,{}),t&&Object(T.jsx)("p",{className:"error",children:"Failed to load"}),!n&&!t&&a&&Object(T.jsxs)(T.Fragment,{children:[!o&&Object(T.jsx)("p",{className:"loading",children:"Listening for logs..."}),o&&a.map((function(e,n){return Object(T.jsx)("pre",{children:Object(T.jsx)(B.a,{children:e.message})},n)}))]})]})]})}t(143);var ye,Ne,Se,Ce,ke,De,Ee,we,Le,Ue,Re=["wsClient"],Te=Object(y.a)(ye||(ye=Object(x.a)(["\n  query GetConstructs {\n    getConstructs {\n      error\n      isLoading\n      constructs\n    }\n  }\n"]))),Ae=Object(y.a)(Ne||(Ne=Object(x.a)(["\n  query GetRuntimeLogs {\n    getRuntimeLogs {\n      message\n    }\n  }\n"]))),Pe=Object(y.a)(Se||(Se=Object(x.a)(["\n  query GetInfraStatus {\n    getInfraStatus {\n      buildStatus\n      buildErrors {\n        type\n        message\n        errorCount\n        warningCount\n      }\n      deployStatus\n      deployErrors {\n        type\n        message\n        errorCount\n        warningCount\n      }\n      canDeploy\n      canQueueDeploy\n      deployQueued\n    }\n  }\n"]))),Be=Object(y.a)(Ce||(Ce=Object(x.a)(["\n  query GetLambdaStatus {\n    getLambdaStatus {\n      buildStatus\n      buildErrors {\n        type\n        message\n        errorCount\n        warningCount\n      }\n    }\n  }\n"]))),Ie=Object(y.a)(ke||(ke=Object(x.a)(["\n  subscription OnConstructsUpdated {\n    constructsUpdated {\n      error\n      isLoading\n      constructs\n    }\n  }\n"]))),Qe=Object(y.a)(De||(De=Object(x.a)(["\n  subscription OnRuntimeLogAdded {\n    runtimeLogAdded {\n      message\n    }\n  }\n"]))),ze=Object(y.a)(Ee||(Ee=Object(x.a)(["\n  subscription OnInfraStatusUpdated {\n    infraStatusUpdated {\n      buildStatus\n      buildErrors {\n        type\n        message\n      }\n      deployStatus\n      deployErrors {\n        type\n        message\n      }\n      canDeploy\n      canQueueDeploy\n      deployQueued\n    }\n  }\n"]))),Fe=Object(y.a)(we||(we=Object(x.a)(["\n  subscription OnLambdaStatusUpdated {\n    lambdaStatusUpdated {\n      buildStatus\n      buildErrors {\n        type\n        message\n      }\n    }\n  }\n"]))),Ve=Object(y.a)(Le||(Le=Object(x.a)(["\n  mutation InvokeConstruct($data: String) {\n    invoke(data: $data)\n  }\n"]))),_e=Object(y.a)(Ue||(Ue=Object(x.a)(["\n  mutation Deploy {\n    deploy\n  }\n"])));function qe(e){var n=e.wsClient,t=(Object(f.a)(e,Re),Object(d.useState)(!1)),a=Object(g.a)(t,2),r=a[0],c=a[1];n.onConnected(W),n.onReconnected(W),n.onDisconnected((function(){c(!1)}));var s=Object(N.a)(Ve),i=Object(g.a)(s,1)[0],o=Object(N.a)(_e),l=Object(g.a)(o,1)[0],u=Object(S.a)(Te),j=u.loading,b=u.error,p=u.data,O=u.subscribeToMore;p&&p.getConstructs&&(b=p.getConstructs.error,p=JSON.parse(p.getConstructs.constructs));var x=Object(S.a)(Ae),y=x.loading,k=x.error,D=x.data,E=x.refetch,w=x.subscribeToMore,L=Object(S.a)(Pe),U=L.loading,R=L.error,P=L.data,B=L.subscribeToMore,I=Object(S.a)(Be),Q=I.loading,z=I.error,F=I.data,V=I.subscribeToMore;function _(){return(_=Object(h.a)(m.a.mark((function e(n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({variables:{data:JSON.stringify(n)}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=Object(h.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(h.a)(m.a.mark((function e(n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.clearStore();case 2:E();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){b||k||R||z?window.location.reload():c(!0)}return Object(d.useEffect)((function(){try{O({document:Ie,updateQuery:function(e,n){var t=n.subscriptionData;return t.data?{getConstructs:t.data.constructsUpdated}:e}}),w({document:Qe,updateQuery:function(e,n){var t=n.subscriptionData;return t.data?{getRuntimeLogs:[].concat(Object(v.a)(e.getRuntimeLogs||[]),[t.data.runtimeLogAdded])}:e}}),B({document:ze,updateQuery:function(e,n){var t=n.subscriptionData;return t.data?{getInfraStatus:t.data.infraStatusUpdated}:e}}),V({document:Fe,updateQuery:function(e,n){var t=n.subscriptionData;return t.data?{getLambdaStatus:t.data.lambdaStatusUpdated}:e}})}catch(e){throw e}}),[O,B,V,w]),Object(T.jsxs)("div",{className:"App",children:[Object(T.jsx)(A,{statusPanel:Object(T.jsx)(K,{connected:r})}),Object(T.jsxs)("div",{className:"panels",children:[Object(T.jsx)("div",{className:"left",children:Object(T.jsx)(fe,{constructs:p,handleTrigger:function(e){return _.apply(this,arguments)},loading:j,loadError:b})}),Object(T.jsxs)("div",{className:"right",children:[Object(T.jsx)(C.a,{children:function(e){return Object(T.jsx)(xe,{loading:y,loadError:k,logs:null===D||void 0===D?void 0:D.getRuntimeLogs,onClear:function(){return function(e){return M.apply(this,arguments)}(e)}})}}),Object(T.jsx)(H,{loading:U||Q,loadError:R||z,infraBuildStatus:null===P||void 0===P?void 0:P.getInfraStatus.buildStatus,infraBuildErrors:null===P||void 0===P?void 0:P.getInfraStatus.buildErrors,infraDeployStatus:null===P||void 0===P?void 0:P.getInfraStatus.deployStatus,infraDeployErrors:null===P||void 0===P?void 0:P.getInfraStatus.deployErrors,infraCanDeploy:null===P||void 0===P?void 0:P.getInfraStatus.canDeploy,infraCanQueueDeploy:null===P||void 0===P?void 0:P.getInfraStatus.canQueueDeploy,infraDeployQueued:null===P||void 0===P?void 0:P.getInfraStatus.deployQueued,lambdaBuildStatus:null===F||void 0===F?void 0:F.getLambdaStatus.buildStatus,lambdaBuildErrors:null===F||void 0===F?void 0:F.getLambdaStatus.buildErrors,handleDeploy:function(){return q.apply(this,arguments)}})]})]})]})}var Me=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,174)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,c=n.getLCP,s=n.getTTFB;t(e),a(e),r(e),c(e),s(e)}))},We=(t(145),t(146),window.location.hostname),Ge=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SST_PORT||window.location.port,Je=new a.a({uri:"http://".concat(We,":").concat(Ge,"/graphql")}),He=new u.SubscriptionClient("ws://".concat(We,":").concat(Ge,"/graphql"),{reconnect:!0}),Ke=new o.a(He),$e=Object(r.a)((function(e){var n=e.query,t=Object(l.e)(n);return"OperationDefinition"===t.kind&&"subscription"===t.operation}),Ke,Je),Xe=new c.a({link:$e,cache:new s.a});p.a.render(Object(T.jsx)(j.a.StrictMode,{children:Object(T.jsx)(i.a,{client:Xe,children:Object(T.jsx)(qe,{wsClient:He})})}),document.getElementById("root")),Me()}},[[147,1,2]]]);
//# sourceMappingURL=main.442359d4.chunk.js.map